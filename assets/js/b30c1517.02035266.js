"use strict";(self.webpackChunkmmm_for_all=self.webpackChunkmmm_for_all||[]).push([[810],{3905:function(e,t,r){r.d(t,{Zo:function(){return d},kt:function(){return h}});var o=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=o.createContext({}),p=function(e){var t=o.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},d=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(r),h=n,m=u["".concat(s,".").concat(h)]||u[h]||c[h]||i;return r?o.createElement(m,a(a({ref:t},d),{},{components:r})):o.createElement(m,a({ref:t},d))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,a=new Array(i);a[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,a[1]=l;for(var p=2;p<i;p++)a[p]=r[p];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}u.displayName="MDXCreateElement"},3919:function(e,t,r){function o(e){return!0===/^(\w*:|\/\/)/.test(e)}function n(e){return void 0!==e&&!o(e)}r.d(t,{b:function(){return o},Z:function(){return n}})},4996:function(e,t,r){r.d(t,{C:function(){return i},Z:function(){return a}});var o=r(2263),n=r(3919);function i(){var e=(0,o.Z)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,r=void 0===t?"/":t,i=e.url;return{withBaseUrl:function(e,t){return function(e,t,r,o){var i=void 0===o?{}:o,a=i.forcePrependBaseUrl,l=void 0!==a&&a,s=i.absolute,p=void 0!==s&&s;if(!r)return r;if(r.startsWith("#"))return r;if((0,n.b)(r))return r;if(l)return t+r;var d=r.startsWith(t)?r:t+r.replace(/^\//,"");return p?e+d:d}(i,r,e,t)}}}function a(e,t){return void 0===t&&(t={}),(0,i().withBaseUrl)(e,t)}},1802:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return s},contentTitle:function(){return p},metadata:function(){return d},toc:function(){return c},default:function(){return h}});var o=r(7462),n=r(3366),i=(r(7294),r(3905)),a=r(4996),l=["components"],s={id:"example-plots",title:"Example plots"},p="Example plots",d={unversionedId:"example-plots",id:"example-plots",isDocsHomePage:!1,title:"Example plots",description:"---",source:"@site/docs/example-plots.mdx",sourceDirName:".",slug:"/example-plots",permalink:"/Robyn/docs/example-plots",editUrl:"https://github.com/facebookexperimental/Robyn/edit/main/website/docs/example-plots.mdx",tags:[],version:"current",frontMatter:{id:"example-plots",title:"Example plots"},sidebar:"someSidebar",previous:{title:"Core capabilities",permalink:"/Robyn/docs/robyn-at-a-glance"},next:{title:"Analysts guide to MMM",permalink:"/Robyn/docs/analysts-guide-to-MMM"}},c=[{value:"Pareto-front chart for the initial model build",id:"pareto-front-chart-for-the-initial-model-build",children:[]},{value:"Robyn refresh models example plots",id:"robyn-refresh-models-example-plots",children:[{value:"Pareto-front chart for the refresh model build.",id:"pareto-front-chart-for-the-refresh-model-build",children:[]}]},{value:"Prophet decomposition",id:"prophet-decomposition",children:[]},{value:"Spend exposure plot",id:"spend-exposure-plot",children:[]},{value:"Model one-pager",id:"model-one-pager",children:[]},{value:"Budget allocator",id:"budget-allocator",children:[]}],u={toc:c};function h(e){var t=e.components,r=(0,n.Z)(e,l);return(0,i.kt)("wrapper",(0,o.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"example-plots"},"Example plots"),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"pareto-front-chart-for-the-initial-model-build"},"Pareto-front chart for the initial model build"),(0,i.kt)("p",null,"After running the model, a Pareto-front chart for the initial model build will be displayed.\nThis chart shows the performance of the multi-objective optimization from the evolutionary algorithm\nplatform Nevergrad over 10k iterations in total."),(0,i.kt)("img",{alt:"pareto chart 2",src:(0,a.Z)("/img/pareto2.png")}),(0,i.kt)("p",null,"The two axes (NRMSE on x and DECOMP.RSSD on y) are the two objective functions to be minimized.\nAs the iteration increases, a trend down the lower left corner of the coordinate can be clearly observed.\nThis is a proof of Nevergrad's ability to drive the model result towards an optimal direction.\nThe red lines are Pareto-fronts 1-3 and contains the best possible model results from all iterations."),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"robyn-refresh-models-example-plots"},"Robyn refresh models example plots"),(0,i.kt)("p",null,"Below there is an example of the model refresh plot results and how they are fit in time.\nAs well as, their corresponding plots which reflect the decomposition of each variable effect and ROAS."),(0,i.kt)("h3",{id:"pareto-front-chart-for-the-refresh-model-build"},"Pareto-front chart for the refresh model build."),(0,i.kt)("p",null,"Similar to above, a more obvious trend of the multi-objective minimization process can be observed during the refreshing process with 3k iterations.\nThe reason for this behaviour is that hyperparameter bounds are narrower during refresh than in the initial build which leads to faster convergence."),(0,i.kt)("img",{alt:"pareto chart 3",src:(0,a.Z)("/img/pareto3.png")}),(0,i.kt)("h4",{id:"reporting-model-refresh-time-series-fit"},"Reporting model refresh time-series fit"),(0,i.kt)("p",null,"You may observe in the plot below that all initial and refresh builds are included sequentially.\nFor the refresh builds, only the new periods added will be appended.\nThe assembled R-squared is adjusted and describes the fit of the assembled actual & fitted lines below.\nRefresh builds can have different window lengths (parameter refresh_step in the robyn_refresh() function)."),(0,i.kt)("img",{alt:"refresh window fit",src:(0,a.Z)("/img/refresh-window.png")}),(0,i.kt)("h4",{id:"reporting-model-refresh-decomposition--roas"},"Reporting model refresh decomposition & ROAS"),(0,i.kt)("p",null,"The chart below shows the decomposition of all predictors per each model build.\nThe baseline variable is the sum of all prophet variables (trend, season, weekday, holiday) and the intercept.\nPlease have in mind that the below data is simulated and for illustration purposes only."),(0,i.kt)("img",{alt:"refresh reporting",src:(0,a.Z)("/img/refresh-reporting.png")}),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"prophet-decomposition"},"Prophet decomposition"),(0,i.kt)("p",null,'Trend, season, holiday and extra regressor ("events" in this case) decomposition by Prophet.\nWeekday is not used because the sample data is weekly (not daily).\nRobyn uses Prophet to also decompose categorical variables as extra regressor to simplify later programming.\nFor technical details of decomposition, please refer to Prophet\'s documentation ',(0,i.kt)("a",{parentName:"p",href:"https://facebook.github.io/prophet/docs/trend_changepoints.html"},"here"),"."),(0,i.kt)("img",{alt:"prophet 2",src:(0,a.Z)("/img/prophet2.png")}),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"spend-exposure-plot"},"Spend exposure plot"),(0,i.kt)("p",null,"When using exposure variables (impressions, clicks, GRPs etc) instead of spend in paid_media_vars,\nRobyn fits an nonlinear model with Michaelis Menten function between exposure and spend to establish the spend-exposure relationship.\nThe example data shows very good fit between exposure and spend. However, when a channel has more complex activities,\nfor example a large advertiser having multiple teams using different strategies (bidding, objective, audience etc.) for Facebook ads,\nit's possible that the high-level channel total impressions and spends will fit poorly. A sign to consider splitting this channel into meaningful subchannels."),(0,i.kt)("img",{alt:"spend-exposure",src:(0,a.Z)("/img/spend-exposure.png")}),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"model-one-pager"},"Model one-pager"),(0,i.kt)("p",null,"An example of the model one-pager for each Pareto-optimal models. All data is simulated and don't have real-life implication."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Waterfall chart"),": The total decomposition of all independent variables"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Predicted vs. actual chart"),": A visual examination of the time-series fit to the model prediction"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Media decomposition chart"),": Each media share of spend vs. share of effect with its ROAS (CPA when using conversions as dependent variable). This chart deconstructs the intuition behind the DECOMP.RSSD decomposition distance objective function."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Saturation curves"),": The Hill function saturation curves for each media variable."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Average media decay rate"),": The decay rate comparison. When using Geometric adstock, this equals to theta. When using Weibull, because Weibull is two-parametric with changing decay rate over time that is difficult to illustrate intuitively, we've chosen to compare the total Weibull infinite sum of decay to it's equivalent in Geometric's infinite sum of decay rate and finally plot the Geometric decay rate as a visual approximate to the Weibull average decay."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Fitted vs. residuals"),": A visual examination of the model diagnostics regarding randomness of residuals.")),(0,i.kt)("img",{alt:"one-pager",src:(0,a.Z)("/img/one-pager.png")}),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"budget-allocator"},"Budget allocator"),(0,i.kt)("p",null,"Below there is an example of a budger allocator result plot which is typically saved within the plot folder with all model results plots where your Robyn.RData object resides.\nYou will find it with the name: ",(0,i.kt)("em",{parentName:"p"},"[select_model_SolID]","_reallocated.png")),(0,i.kt)("img",{alt:"pareto chart 2",src:(0,a.Z)("/img/budgerAllocator1.png")}),(0,i.kt)("hr",null))}h.isMDXComponent=!0}}]);